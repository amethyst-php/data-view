extends: data-view-page-show
icon: /assets/amethyst/{{ name }}-icon.svg
options:
  data: {{ name }}
  api: {{ api }}
  sections:
    main: 
      extends: {{ name }}-resource-show
{% for relation in relations %}{% if relation.type == 'HasMany' or relation.type == 'MorphMany' %}

    {{ relation.key }}:
      extends: {{ relation.data }}-resource-index
      options:
        attributes:
          {{ relation.foreignKey }}:
            name: {{ relation.foreignKey }}
            extends: data-view-attribute-input
            fixed: "${parent.id}"
            options:
              default:
                view: {{ relation.data }}-resource-update
                create: {{ relation.data }}-resource-create
                update: {{ relation.data }}-resource-update


{% for scope in relation.scope %}
          
          {{ scope.column }}:
            name: {{ scope.column }}
            extends: data-view-attribute-input
            fixed: "{{ scope.value }}"

{% endfor %}

{% endif %}{% endfor %}

  actions:
    resource:
      delete:
        extends: {{ name }}-resource-delete
      update:
        extends: {{ name }}-resource-update