label: {{ name }}
extends: data-iterator-table
permissions: 
  - {{ name }}.show
icon: /assets/amethyst/{{ name }}-icon.svg
options:
  data: {{ name }}
  api: {{ api }}
  components:

{% for attribute in attributes %}

    {{ attribute.name }}:
      name: {{ attribute.name }}
      include: {{ name }}.components.{{ attribute.name }}

      {% if attribute.type in ['Id', 'Uuid', 'LongText', 'CreatedAt', 'UpdatedAt', 'DeletedAt', 'Html', 'Yaml'] %}
      
      options:  
        hide: true
      {% endif %}
        
{% endfor %}
{% for relation in relations %}{% if relation.type == 'MorphToMany' or relation.type == 'BelongsToMany' %}
  
    {{ relation.name }}:
      name: {{ relation.name }}
      type: relation
      include: {{ name }}.components.{{ relation.name }}
      options:
        hide: true

{% endif %}{% endfor %}

{% for component in components %}
    {{ component }}:
      name: {{ component }}
      type: component
      extends: {{ component }}
{% endfor %}

  actions:
    global:
      create:
        extends: {{ name }}-resource-create
    resource:
      delete:
        extends: {{ name }}-resource-delete
      update:
        extends: {{ name }}-resource-update
  
      {% for action in actions %}
      
      {{ action }}:
        extends: {{ action }}
      {% endfor %}
